<!DOCTYPE html>
<html>
<head>
  <title>DB.md</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <link rel="stylesheet" media="all" href="doc-style.css" />
  <script src="doc-filelist.js"></script>
  <script>
    var relativeDir = "", thisFile = "DB.md", defaultSidebar = true;
  </script>
  <script src="doc-script.js"></script>
  <script src="fileSearch.js"></script>
  <link rel="stylesheet" href="fileSearch.css" />
</head>
<body>
  <div id="sidebar_wrapper">
    <div id="sidebar_switch">
      <span class="tree">Files</span>
      <span class="headings">Headings</span>
    </div>
    <div id="tree"></div>
    <div id="headings">
      <div class="heading h1">
        <a href="#icollege%20database%20design">iCollege Database Design</a>
      </div>
      <div class="heading h3">
        <a href="#demo">Demo</a>
      </div>
      <div class="heading h3">
        <a href="#user%20%E7%94%A8%E6%88%B7">user 用户</a>
      </div>
      <div class="heading h3">
        <a href="#message%20%E5%8D%B3%E6%97%B6%E9%80%9A%E4%BF%A1%E6%B6%88%E6%81%AF">message 即时通信消息</a>
      </div>
      <div class="heading h3">
        <a href="#post%20%E7%9F%AD%E5%B8%96">post 短帖</a>
      </div>
      <div class="heading h3">
        <a href="#group%20%E6%B6%88%E6%81%AF%E7%BE%A4%E7%BB%84">group 消息群组</a>
      </div>
      <div class="heading h3">
        <a href="#circle%20%E7%A4%BE%E4%BA%A4%E5%9C%88%E5%AD%90">circle 社交圈子</a>
      </div>
      <div class="heading h3">
        <a href="#app%20%E5%BA%94%E7%94%A8">app 应用</a>
      </div>
      <div class="heading h1">
        <a href="#%E5%AD%90%E6%96%87%E6%A1%A3">子文档</a>
      </div>
      <div class="heading h4">
        <a href="#addon%20%E9%99%84%E4%BB%B6">addon 附件</a>
      </div>
      <div class="heading h4">
        <a href="#frienditem%20%E6%9C%8B%E5%8F%8B%E9%A1%B9">friendItem 朋友项</a>
      </div>
      <div class="heading h4">
        <a href="#groupitem%20%E7%BE%A4%E7%BB%84%E9%A1%B9">groupItem 群组项</a>
      </div>
      <div class="heading h4">
        <a href="#appitem%20app%E9%A1%B9">appItem app项</a>
      </div>
      <div class="heading h4">
        <a href="#education%20%E6%95%99%E8%82%B2%E8%83%8C%E6%99%AF">education 教育背景</a>
      </div>
      <div class="heading h1">
        <a href="#app%E7%AE%80%E4%BB%8B">App简介</a>
      </div>
    </div>
  </div>
  <div id="sidebar-toggle"></div>
  <div id="container"><div class="docs markdown">
<div class="pilwrap" id="icollege%20database%20design">
  <h1>
    <a href="#icollege%20database%20design" name="icollege%20database%20design" class="pilcrow">&#182;</a>
    iCollege Database Design
  </h1>
</div>



<div class="pilwrap" id="demo">
  <h3>
    <a href="#demo" name="demo" class="pilcrow">&#182;</a>
    Demo
  </h3>
</div>


<p>项目名 | 列名 | 数据类型 | 默认值 | 备注
------|-----|---------|------|-----
||||</p>


<div class="pilwrap" id="user%20%E7%94%A8%E6%88%B7">
  <h3>
    <a href="#user%20%E7%94%A8%E6%88%B7" name="user%20%E7%94%A8%E6%88%B7" class="pilcrow">&#182;</a>
    user 用户
  </h3>
</div>


<p>field name  | field type | 备注 
------------|------------|------
_id         ||
username    ||用户名
nickname    ||昵称
email       ||邮箱
cellphone   ||手机号码
password    ||密码
name        ||真实姓名
age         ||年龄
sex         ||性别
location    ||当前登录地点
online      ||是否在线
<a href="http://git.candylee.cn/doomdagger/icollege/blob/master/DB.md#education">educations</a>   ||education实体的集合，学历信息
<a href="http://git.candylee.cn/doomdagger/icollege/blob/master/DB.md#frienditem">friends</a>      ||friendItem实体的集合，好友
<a href="http://git.candylee.cn/doomdagger/icollege/blob/master/DB.md#groupitem">groups</a>            ||groupItem实体的集合，群组
<a href="http://git.candylee.cn/doomdagger/icollege/blob/master/DB.md#appitem-app">apps</a>            ||appItem实体的集合，安装的app插件</p>


<div class="pilwrap" id="message%20%E5%8D%B3%E6%97%B6%E9%80%9A%E4%BF%A1%E6%B6%88%E6%81%AF">
  <h3>
    <a href="#message%20%E5%8D%B3%E6%97%B6%E9%80%9A%E4%BF%A1%E6%B6%88%E6%81%AF" name="message%20%E5%8D%B3%E6%97%B6%E9%80%9A%E4%BF%A1%E6%B6%88%E6%81%AF" class="pilcrow">&#182;</a>
    message 即时通信消息
  </h3>
</div>


<p>field name  | field type | 备注
------------|------------|------
_id         ||
type        ||message from system or group or a friend/anonymous user
content     ||消息内容
timestamp   ||消息发送时间戳
from        ||只可以是用户或者系统
to          ||可以是用户，消息群组
<a href="http://git.candylee.cn/doomdagger/icollege/blob/master/DB.md#addon">addon</a>                  ||addon对象，消息附件</p>


<div class="pilwrap" id="post%20%E7%9F%AD%E5%B8%96">
  <h3>
    <a href="#post%20%E7%9F%AD%E5%B8%96" name="post%20%E7%9F%AD%E5%B8%96" class="pilcrow">&#182;</a>
    post 短帖
  </h3>
</div>


<p>field name  | field type | 备注
------------|------------|------
_id         ||
type        ||post from system or circle or a friend
content     ||消息内容
timestamp   ||消息发送时间戳
from        ||只可以是用户或者系统
to          ||可是是社交圈子（发到社交圈子中去），用户（给某个用户的post的回复），或为空（发的个人post）
<a href="http://git.candylee.cn/doomdagger/icollege/blob/master/DB.md#addon">addons</a>                  ||addon对象集合，post附件，多为多个图片</p>


<div class="pilwrap" id="group%20%E6%B6%88%E6%81%AF%E7%BE%A4%E7%BB%84">
  <h3>
    <a href="#group%20%E6%B6%88%E6%81%AF%E7%BE%A4%E7%BB%84" name="group%20%E6%B6%88%E6%81%AF%E7%BE%A4%E7%BB%84" class="pilcrow">&#182;</a>
    group 消息群组
  </h3>
</div>


<p>field name  | field type | 备注
------------|------------|------
<em>id         ||
name        ||群组名称，系统建立组群组名不可更改
members     ||user的</em>id字段集合
type        ||群组类型，用户自建组或系统建立组
description ||群组介绍，可修改
<a href="http://git.candylee.cn/doomdagger/icollege/blob/master/DB.md#addon">addons</a>                       ||addon对象集合，群文件</p>


<div class="pilwrap" id="circle%20%E7%A4%BE%E4%BA%A4%E5%9C%88%E5%AD%90">
  <h3>
    <a href="#circle%20%E7%A4%BE%E4%BA%A4%E5%9C%88%E5%AD%90" name="circle%20%E7%A4%BE%E4%BA%A4%E5%9C%88%E5%AD%90" class="pilcrow">&#182;</a>
    circle 社交圈子
  </h3>
</div>


<p>field name  | field type | 备注
------------|------------|------
<em>id         ||
name        ||圈子名称，系统建立圈子名不可更改
members     ||user的</em>id字段集合
type        ||圈子类型，用户自建圈子或系统建立的圈子
description ||圈子介绍，可修改</p>


<div class="pilwrap" id="app%20%E5%BA%94%E7%94%A8">
  <h3>
    <a href="#app%20%E5%BA%94%E7%94%A8" name="app%20%E5%BA%94%E7%94%A8" class="pilcrow">&#182;</a>
    app 应用
  </h3>
</div>


<p>field name  | field type | 备注
------------|------------|------
_id         ||
name        ||app名称
link        ||app插件链接
description ||备注说明</p>


<div class="pilwrap" id="%E5%AD%90%E6%96%87%E6%A1%A3">
  <h1>
    <a href="#%E5%AD%90%E6%96%87%E6%A1%A3" name="%E5%AD%90%E6%96%87%E6%A1%A3" class="pilcrow">&#182;</a>
    子文档
  </h1>
</div>



<div class="pilwrap" id="addon%20%E9%99%84%E4%BB%B6">
  <h4>
    <a href="#addon%20%E9%99%84%E4%BB%B6" name="addon%20%E9%99%84%E4%BB%B6" class="pilcrow">&#182;</a>
    addon 附件
  </h4>
</div>


<p>field name  | field type | 备注
------------|------------|------
name        ||文件名
size        ||文件大小
url         ||文件路径</p>


<div class="pilwrap" id="frienditem%20%E6%9C%8B%E5%8F%8B%E9%A1%B9">
  <h4>
    <a href="#frienditem%20%E6%9C%8B%E5%8F%8B%E9%A1%B9" name="frienditem%20%E6%9C%8B%E5%8F%8B%E9%A1%B9" class="pilcrow">&#182;</a>
    friendItem 朋友项
  </h4>
</div>


<p>field name  | field type | 备注
------------|------------|------
friendId    ||好友的_id
customName  ||好友备注名
addDate     ||成为好友日期
agree       ||是否已同意加为好友，pending,true,false
requestDate ||请求成为好友的日期
securePolicy||安全策略，是否允许查看一些我的消息</p>


<div class="pilwrap" id="groupitem%20%E7%BE%A4%E7%BB%84%E9%A1%B9">
  <h4>
    <a href="#groupitem%20%E7%BE%A4%E7%BB%84%E9%A1%B9" name="groupitem%20%E7%BE%A4%E7%BB%84%E9%A1%B9" class="pilcrow">&#182;</a>
    groupItem 群组项
  </h4>
</div>


<p>field name  | field type | 备注
-------------|------------|------
groupId      ||群组的_id
messagePolicy||接受消息策略：完全屏蔽，仅接收不提醒，接收并提醒</p>


<div class="pilwrap" id="appitem%20app%E9%A1%B9">
  <h4>
    <a href="#appitem%20app%E9%A1%B9" name="appitem%20app%E9%A1%B9" class="pilcrow">&#182;</a>
    appItem app项
  </h4>
</div>


<p>field name  | field type | 备注
------------|------------|------
appId       ||app的_id</p>


<div class="pilwrap" id="education%20%E6%95%99%E8%82%B2%E8%83%8C%E6%99%AF">
  <h4>
    <a href="#education%20%E6%95%99%E8%82%B2%E8%83%8C%E6%99%AF" name="education%20%E6%95%99%E8%82%B2%E8%83%8C%E6%99%AF" class="pilcrow">&#182;</a>
    education 教育背景
  </h4>
</div>


<p>field name  | field type | 备注
------------|------------|------
type        ||小学，初中，高中or大学
startYear   ||起始年份
endYear     ||终止年份
province    ||学校所在省份
city        ||学校所在城市
school      ||学校名称
class       ||所在班级
academy     ||学院（可选填）
faculty     ||系（可选填）</p>

<hr />


<div class="pilwrap" id="app%E7%AE%80%E4%BB%8B">
  <h1>
    <a href="#app%E7%AE%80%E4%BB%8B" name="app%E7%AE%80%E4%BB%8B" class="pilcrow">&#182;</a>
    App简介
  </h1>
</div>


<p>iCollege的App应该设计的更加灵活些，让iCollege真正成为了类似微信的平台，然后跟微信不同，iCollege应该更加注重用户与用户之间的关联性。</p>

<p>微信平台仅仅允许开发者开发服务平台或订阅平台，局限性非常大，iCollege的App应该拥有更多的功能，列举出系统应该自带的若干个App插件:
* <strong>教务系统集成app：</strong>查看课表，查看考试安排（考试安排提醒与推送），查看成绩（考试成绩提醒与推送），查找空教室，计算平均学分绩
* <strong>以大学生课程为基础的社交网络：</strong>同教室上课的聊天群组选择性加入，选择性加入同课圈子（圈子类似贴吧，吐槽加文件共享）
* <strong>以兴趣爱好为基础的社交网络：</strong> 同爱好群组选择性加入，同爱好圈子选择性加入
* <strong>同城社交网络：</strong> 同一个城市，都是出门在外闯，见到老乡，见到校友，两眼泪汪汪。
* <strong>饭团：</strong> 订餐服务平台，不多说了。
* <strong>掌上餐厅</strong> 点菜服务平台，手机点菜，不多说了。
* <strong>校园电商：</strong>校园电商平台，二手书，宿舍超市，不多说了。</p>

<p>App可以做出来很多很多，但是都将建立在iCollege社交平台上，所有的App可以有权限使用iCollege父平台的一切功能，比如饭团上买了什么后可以在iCollege上发一个post，分享美食来赚取饭团积分。</p></div>
  </div>
</body>
</html>
